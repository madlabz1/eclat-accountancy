<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eclat Accountancy | Expert Tax & Accounting Services in London</title>
    <meta name="description" content="Eclat Accountancy - Professional accounting, tax planning, bookkeeping and business advisory services in London SE23. Trusted by businesses since 2016.">
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://eclataccountancy.netlify.app/">
    <meta property="og:title" content="√âclat Accountancy | Expert Tax & Accounting Services in London">
    <meta property="og:description" content="Professional accounting, tax planning, bookkeeping and business advisory services in London SE23. Trusted by businesses since 2016.">
    <meta property="og:image" content="https://eclataccountancy.netlify.app/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="√âclat Accountancy | Expert Tax & Accounting Services in London">
    <meta name="twitter:description" content="Professional accounting, tax planning, bookkeeping and business advisory services in London SE23. Trusted by businesses since 2016.">
    <meta name="twitter:image" content="https://eclataccountancy.netlify.app/og-image.jpg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    <style>
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --primary: #1B3A5C;
            --primary-light: #2A5A8C;
            --accent: #D4A853;
            --accent-light: #E8C87A;
            --dark: #0F1923;
            --text: #2D3748;
            --text-light: #718096;
            --bg: #FAFBFC;
            --white: #FFFFFF;
            --border: #E2E8F0;
            --success: #38A169;
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            color: var(--text);
            background: var(--bg);
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
        }

        /* NAV */
        nav {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            transition: all 0.3s ease;
        }
        nav.scrolled {
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        .nav-inner {
            max-width: 1200px; margin: 0 auto;
            padding: 0 2rem;
            display: flex; align-items: center; justify-content: space-between;
            height: 72px;
        }
        .nav-logo {
            display: flex; align-items: center;
            text-decoration: none;
        }
        .nav-logo img {
            height: 48px; width: auto;
        }
        .nav-logo .logo-svg {
            color: var(--primary);
        }
        footer .nav-logo .logo-svg {
            color: var(--white);
        }
        .nav-links { display: flex; gap: 2rem; align-items: center; }
        .nav-links a {
            text-decoration: none; color: var(--text);
            font-size: 0.9rem; font-weight: 500;
            transition: color 0.2s;
        }
        .nav-links a:hover { color: var(--primary); }
        .nav-cta {
            background: var(--primary) !important; color: var(--white) !important;
            padding: 0.6rem 1.4rem !important; border-radius: 8px;
            transition: all 0.2s !important;
        }
        .nav-cta:hover { background: var(--primary-light) !important; transform: translateY(-1px); }
        .mobile-toggle {
            display: none; background: none; border: none; cursor: pointer;
            padding: 0.5rem;
        }
        .mobile-toggle span {
            display: block; width: 24px; height: 2px;
            background: var(--text); margin: 5px 0;
            transition: all 0.3s;
        }

        /* HERO */
        .hero {
            min-height: 100vh;
            display: flex; align-items: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--dark) 100%);
            position: relative; overflow: hidden;
            padding-top: 72px;
        }
        .hero::before {
            content: '';
            position: absolute; inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .hero-shapes {
            position: absolute; inset: 0; overflow: hidden;
        }
        .hero-shape {
            position: absolute; border-radius: 50%;
            background: rgba(212, 168, 83, 0.08);
            animation: float 20s infinite ease-in-out;
        }
        .hero-shape:nth-child(1) { width: 400px; height: 400px; top: -100px; right: -100px; }
        .hero-shape:nth-child(2) { width: 300px; height: 300px; bottom: -80px; left: -80px; animation-delay: -7s; }
        .hero-shape:nth-child(3) { width: 200px; height: 200px; top: 40%; right: 20%; animation-delay: -14s; }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -30px) scale(1.05); }
            66% { transform: translate(-20px, 20px) scale(0.95); }
        }

        .hero-inner {
            max-width: 1200px; margin: 0 auto; padding: 4rem 2rem;
            display: grid; grid-template-columns: 1fr 1fr; gap: 4rem;
            align-items: center; position: relative; z-index: 1;
        }
        .hero-content {}
        .hero-badge {
            display: inline-flex; align-items: center; gap: 0.5rem;
            background: rgba(212, 168, 83, 0.15);
            color: var(--accent-light);
            padding: 0.4rem 1rem; border-radius: 50px;
            font-size: 0.8rem; font-weight: 600;
            margin-bottom: 1.5rem; letter-spacing: 0.05em;
        }
        .hero-badge::before {
            content: ''; width: 6px; height: 6px;
            background: var(--accent); border-radius: 50%;
            animation: pulse-dot 2s infinite;
        }
        @keyframes pulse-dot {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }
        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.2rem, 4vw, 3.4rem);
            color: var(--white);
            line-height: 1.2; margin-bottom: 1.5rem;
        }
        .hero h1 em {
            font-style: normal;
            color: var(--accent);
        }
        .hero p {
            color: rgba(255,255,255,0.7);
            font-size: 1.1rem; line-height: 1.8;
            margin-bottom: 2rem; max-width: 480px;
        }
        .hero-buttons { display: flex; gap: 1rem; flex-wrap: wrap; }
        .btn {
            display: inline-flex; align-items: center; gap: 0.5rem;
            padding: 0.85rem 1.8rem; border-radius: 10px;
            font-size: 0.95rem; font-weight: 600;
            text-decoration: none; cursor: pointer; border: none;
            transition: all 0.3s ease;
        }
        .btn-primary {
            background: var(--accent); color: var(--dark);
        }
        .btn-primary:hover { background: var(--accent-light); transform: translateY(-2px); box-shadow: 0 8px 25px rgba(212,168,83,0.3); }
        .btn-outline {
            background: transparent; color: var(--white);
            border: 2px solid rgba(255,255,255,0.3);
        }
        .btn-outline:hover { border-color: var(--white); background: rgba(255,255,255,0.05); }

        .hero-stats {
            display: flex; gap: 2.5rem; margin-top: 3rem;
        }
        .hero-stat h3 {
            font-size: 2rem; color: var(--accent); font-weight: 700;
        }
        .hero-stat p {
            font-size: 0.8rem; color: rgba(255,255,255,0.5);
            margin: 0;
        }

        .hero-visual {
            display: flex; justify-content: center; align-items: center;
        }
        .hero-card {
            background: rgba(255,255,255,0.06);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px; padding: 2.5rem;
            width: 100%; max-width: 420px;
        }
        .hero-image {
            width: 100%; max-width: 500px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .hero-image img {
            width: 100%; height: 100%;
            object-fit: cover; display: block;
        }
        .hero-card h3 {
            color: var(--white); font-size: 1.2rem; margin-bottom: 1.5rem;
            font-weight: 600;
        }
        .tax-tip {
            background: rgba(212, 168, 83, 0.1);
            border-left: 3px solid var(--accent);
            padding: 1rem 1.2rem; border-radius: 0 8px 8px 0;
            margin-bottom: 1rem;
        }
        .tax-tip h4 { color: var(--accent-light); font-size: 0.85rem; font-weight: 600; margin-bottom: 0.3rem; }
        .tax-tip p { color: rgba(255,255,255,0.6); font-size: 0.8rem; margin: 0; line-height: 1.5; }
        .hero-card-cta {
            display: block; text-align: center;
            background: var(--accent); color: var(--dark);
            padding: 0.75rem; border-radius: 8px;
            font-weight: 600; font-size: 0.9rem;
            text-decoration: none; margin-top: 1.5rem;
            transition: all 0.3s;
        }
        .hero-card-cta:hover { background: var(--accent-light); }

        /* SECTION COMMON */
        section { padding: 5rem 2rem; }
        .section-inner { max-width: 1200px; margin: 0 auto; }
        .section-header {
            text-align: center; margin-bottom: 3.5rem;
        }
        .section-label {
            font-size: 0.8rem; font-weight: 700;
            color: var(--accent); letter-spacing: 0.1em;
            text-transform: uppercase; margin-bottom: 0.75rem;
        }
        .section-header h2 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.8rem, 3vw, 2.4rem);
            color: var(--primary);
            margin-bottom: 1rem;
        }
        .section-header p {
            color: var(--text-light); max-width: 600px;
            margin: 0 auto; font-size: 1rem;
        }

        /* SERVICES */
        .services { background: var(--white); }
        .services-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        .service-card {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 16px; padding: 2rem;
            transition: all 0.3s ease;
            position: relative; overflow: hidden;
        }
        .service-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(27, 58, 92, 0.1);
            border-color: var(--accent);
        }
        .service-icon {
            width: 52px; height: 52px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            border-radius: 12px;
            display: flex; align-items: center; justify-content: center;
            margin-bottom: 1.2rem; font-size: 1.5rem;
        }
        .service-card h3 {
            font-size: 1.1rem; font-weight: 700;
            color: var(--primary); margin-bottom: 0.6rem;
        }
        .service-card p {
            color: var(--text-light); font-size: 0.9rem;
            line-height: 1.6;
        }

        /* TAX CTA */
        .tax-cta {
            background: linear-gradient(135deg, var(--primary) 0%, var(--dark) 100%);
            position: relative; overflow: hidden;
        }
        .tax-cta::before {
            content: '';
            position: absolute; inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23D4A853' fill-opacity='0.05'%3E%3Cpath d='M20 20h20v20H20zM0 0h20v20H0z'/%3E%3C/g%3E%3C/svg%3E");
        }
        .tax-cta .section-inner {
            display: grid; grid-template-columns: 1fr 1fr; gap: 3rem;
            align-items: center; position: relative; z-index: 1;
        }
        .tax-cta-image {
            border-radius: 16px; overflow: hidden;
            margin-bottom: 2rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        .tax-cta-image img {
            width: 100%; height: 220px;
            object-fit: cover; display: block;
        }
        .tax-cta-content h2 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.8rem, 3vw, 2.4rem);
            color: var(--white); margin-bottom: 1rem;
        }
        .tax-cta-content p {
            color: rgba(255,255,255,0.7);
            font-size: 1rem; margin-bottom: 2rem;
            line-height: 1.8;
        }
        .tax-checklist { list-style: none; }
        .tax-checklist li {
            display: flex; align-items: flex-start; gap: 0.75rem;
            color: rgba(255,255,255,0.8);
            font-size: 0.95rem; margin-bottom: 0.75rem;
        }
        .tax-checklist li::before {
            content: '‚úì';
            color: var(--accent);
            font-weight: 700; flex-shrink: 0;
            margin-top: 2px;
        }
        .tax-form {
            background: rgba(255,255,255,0.06);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px; padding: 2.5rem;
        }
        .tax-form h3 {
            color: var(--white); font-size: 1.3rem;
            margin-bottom: 0.5rem; font-weight: 700;
        }
        .tax-form .form-sub {
            color: rgba(255,255,255,0.5);
            font-size: 0.85rem; margin-bottom: 1.5rem;
        }
        .form-group { margin-bottom: 1rem; }
        .form-group label {
            display: block; color: rgba(255,255,255,0.7);
            font-size: 0.8rem; font-weight: 600;
            margin-bottom: 0.3rem;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%; padding: 0.75rem 1rem;
            background: rgba(255,255,255,0.08);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 8px; color: var(--white);
            font-family: inherit; font-size: 0.9rem;
            transition: border-color 0.2s;
        }
        .form-group input::placeholder, .form-group textarea::placeholder {
            color: rgba(255,255,255,0.3);
        }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none; border-color: var(--accent);
        }
        .form-group select option { background: var(--dark); color: var(--white); }
        .form-submit {
            width: 100%; padding: 0.85rem;
            background: var(--accent); color: var(--dark);
            border: none; border-radius: 10px;
            font-size: 1rem; font-weight: 700;
            cursor: pointer; transition: all 0.3s;
            margin-top: 0.5rem;
        }
        .form-submit:hover { background: var(--accent-light); transform: translateY(-1px); }

        /* ABOUT / WHY */
        .why { background: var(--white); }
        .why-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 4rem;
            align-items: center;
        }
        .why-image {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            border-radius: 20px; padding: 3rem;
            display: flex; flex-direction: column; justify-content: center;
            min-height: 400px; position: relative; overflow: hidden;
        }
        .why-image::before {
            content: '';
            position: absolute; inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .why-number {
            font-size: 5rem; font-weight: 800;
            color: rgba(255,255,255,0.1);
            position: absolute; top: 1rem; right: 2rem;
        }
        .why-quote {
            color: var(--white); font-size: 1.5rem;
            font-family: 'Playfair Display', serif;
            line-height: 1.4; position: relative; z-index: 1;
            margin-bottom: 1.5rem;
        }
        .why-author {
            color: var(--accent-light); font-size: 0.9rem;
            position: relative; z-index: 1;
        }
        .why-features { display: flex; flex-direction: column; gap: 1.5rem; }
        .why-feature {
            display: flex; gap: 1rem; align-items: flex-start;
        }
        .why-feature-icon {
            width: 44px; height: 44px; flex-shrink: 0;
            background: rgba(27, 58, 92, 0.08);
            border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem;
        }
        .why-feature h4 {
            font-size: 1rem; font-weight: 700;
            color: var(--primary); margin-bottom: 0.3rem;
        }
        .why-feature p {
            color: var(--text-light); font-size: 0.9rem;
        }

        /* REVIEWS */
        .reviews { background: var(--bg); }
        .reviews-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .review-card {
            background: var(--white);
            border: 1px solid var(--border);
            border-radius: 16px; padding: 2rem;
            transition: all 0.3s;
        }
        .review-card:hover {
            box-shadow: 0 8px 30px rgba(0,0,0,0.06);
        }
        .review-stars { color: var(--accent); font-size: 1rem; margin-bottom: 1rem; letter-spacing: 2px; }
        .review-text {
            color: var(--text); font-size: 0.95rem;
            line-height: 1.7; margin-bottom: 1.2rem;
            font-style: italic;
        }
        .review-author {
            display: flex; align-items: center; gap: 0.75rem;
        }
        .review-avatar {
            width: 40px; height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            color: var(--white); font-weight: 700; font-size: 0.85rem;
        }
        .review-name { font-weight: 600; color: var(--primary); font-size: 0.9rem; }
        .review-source { color: var(--text-light); font-size: 0.75rem; }

        /* CONTACT */
        .contact { background: var(--white); }
        .contact-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 3rem;
        }
        .contact-info h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem; color: var(--primary);
            margin-bottom: 1rem;
        }
        .contact-info > p {
            color: var(--text-light); margin-bottom: 2rem;
            font-size: 0.95rem; line-height: 1.7;
        }
        .contact-item {
            display: flex; align-items: flex-start; gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .contact-icon {
            width: 44px; height: 44px; flex-shrink: 0;
            background: rgba(27, 58, 92, 0.06);
            border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.1rem;
        }
        .contact-item h4 {
            font-size: 0.85rem; color: var(--text-light);
            font-weight: 600; margin-bottom: 0.2rem;
        }
        .contact-item a, .contact-item p {
            color: var(--primary); font-weight: 600;
            font-size: 1rem; text-decoration: none;
        }
        .contact-item a:hover { color: var(--accent); }
        .contact-map {
            border-radius: 16px; overflow: hidden;
            border: 1px solid var(--border);
            height: 100%; min-height: 350px;
        }
        .contact-map iframe {
            width: 100%; height: 100%; border: 0;
        }

        /* FOOTER */
        footer {
            background: var(--dark);
            padding: 3rem 2rem 1.5rem;
        }
        .footer-inner {
            max-width: 1200px; margin: 0 auto;
        }
        .footer-top {
            display: flex; justify-content: space-between;
            align-items: flex-start; gap: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            flex-wrap: wrap;
        }
        .footer-brand .nav-logo {
            font-size: 1.4rem; display: block; margin-bottom: 0.75rem;
        }
        .footer-brand p {
            color: rgba(255,255,255,0.4);
            font-size: 0.85rem; max-width: 280px;
        }
        .footer-links h4 {
            color: var(--white); font-size: 0.85rem;
            font-weight: 700; margin-bottom: 0.75rem;
        }
        .footer-links a {
            display: block; color: rgba(255,255,255,0.4);
            text-decoration: none; font-size: 0.85rem;
            margin-bottom: 0.4rem; transition: color 0.2s;
        }
        .footer-links a:hover { color: var(--accent); }
        .footer-bottom {
            display: flex; justify-content: space-between; align-items: center;
            padding-top: 1.5rem;
            color: rgba(255,255,255,0.3); font-size: 0.8rem;
            flex-wrap: wrap; gap: 1rem;
        }

        /* MOBILE */
        @media (max-width: 768px) {
            .hero-inner { grid-template-columns: 1fr; gap: 2rem; }
            .hero-visual { order: -1; }
            .hero-card { max-width: 100%; }
            .hero-stats { gap: 1.5rem; }
            .hero-stat h3 { font-size: 1.5rem; }
            .tax-cta .section-inner { grid-template-columns: 1fr; }
            .why-grid { grid-template-columns: 1fr; }
            .why-image { min-height: 280px; }
            .contact-grid { grid-template-columns: 1fr; }
            .nav-links { display: none; }
            .mobile-toggle { display: block; }
            .nav-links.open {
                display: flex; flex-direction: column;
                position: absolute; top: 72px; left: 0; right: 0;
                background: var(--white);
                padding: 1.5rem 2rem;
                border-bottom: 1px solid var(--border);
                box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            }
            .footer-top { flex-direction: column; }
            section { padding: 3.5rem 1.5rem; }
        }

        /* ANIMATIONS */
        .fade-up {
            opacity: 0; transform: translateY(30px);
            transition: all 0.6s ease;
        }
        .fade-up.visible {
            opacity: 1; transform: translateY(0);
        }

        /* TRUSTPILOT BADGE */
        .tp-badge {
            display: inline-flex; align-items: center; gap: 0.5rem;
            background: var(--white);
            border: 1px solid var(--border);
            padding: 0.5rem 1rem; border-radius: 8px;
            font-size: 0.85rem; color: var(--text);
            margin-top: 1.5rem;
        }
        .tp-stars { color: #00b67a; font-weight: 700; }

        /* CHATBOT */
        .chatbot-toggle {
            position: fixed; bottom: 24px; right: 24px; z-index: 9999;
            width: 60px; height: 60px; border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            border: none; cursor: pointer;
            box-shadow: 0 4px 20px rgba(27,58,92,0.4);
            display: flex; align-items: center; justify-content: center;
            transition: all 0.3s ease;
        }
        .chatbot-toggle:hover { transform: scale(1.08); box-shadow: 0 6px 28px rgba(27,58,92,0.5); }
        .chatbot-toggle svg { width: 28px; height: 28px; fill: white; }
        .chatbot-toggle .close-icon { display: none; }
        .chatbot-toggle.active .chat-icon { display: none; }
        .chatbot-toggle.active .close-icon { display: block; }

        .chatbot-badge {
            position: absolute; top: -2px; right: -2px;
            width: 16px; height: 16px; background: var(--accent);
            border-radius: 50%; border: 2px solid var(--white);
            animation: pulse-dot 2s infinite;
        }
        .chatbot-toggle.active .chatbot-badge { display: none; }

        .chatbot-window {
            position: fixed; bottom: 96px; right: 24px; z-index: 9998;
            width: 380px; max-height: 560px;
            background: var(--white);
            border-radius: 20px;
            box-shadow: 0 12px 48px rgba(0,0,0,0.15);
            display: none; flex-direction: column;
            overflow: hidden;
            border: 1px solid var(--border);
        }
        .chatbot-window.open { display: flex; }

        .chatbot-header {
            background: linear-gradient(135deg, var(--primary), var(--dark));
            padding: 1.2rem 1.5rem;
            display: flex; align-items: center; gap: 0.75rem;
        }
        .chatbot-header-avatar {
            width: 38px; height: 38px;
            background: rgba(255,255,255,0.15);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
        }
        .chatbot-header-avatar svg { width: 20px; height: 20px; fill: var(--accent); }
        .chatbot-header-info h4 { color: var(--white); font-size: 0.95rem; font-weight: 600; margin: 0; }
        .chatbot-header-info p { color: rgba(255,255,255,0.6); font-size: 0.75rem; margin: 0; }

        .chatbot-messages {
            flex: 1; overflow-y: auto; padding: 1rem 1rem 0.5rem;
            max-height: 360px; min-height: 200px;
            scroll-behavior: smooth;
        }
        .chatbot-messages::-webkit-scrollbar { width: 4px; }
        .chatbot-messages::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }

        .chat-msg {
            display: flex; gap: 0.5rem; margin-bottom: 0.75rem;
            align-items: flex-end;
        }
        .chat-msg.user { flex-direction: row-reverse; }

        .chat-msg-avatar {
            width: 28px; height: 28px; border-radius: 50%;
            background: var(--primary); flex-shrink: 0;
            display: flex; align-items: center; justify-content: center;
            font-size: 0.65rem; color: var(--white); font-weight: 700;
        }
        .chat-msg.user .chat-msg-avatar {
            background: var(--accent); color: var(--dark);
        }

        .chat-bubble {
            max-width: 80%; padding: 0.7rem 1rem;
            border-radius: 16px 16px 16px 4px;
            font-size: 0.85rem; line-height: 1.5;
            background: var(--bg); color: var(--text);
        }
        .chat-msg.user .chat-bubble {
            background: var(--primary); color: var(--white);
            border-radius: 16px 16px 4px 16px;
        }

        .chat-quick-actions {
            display: flex; flex-wrap: wrap; gap: 0.4rem;
            padding: 0.5rem 1rem 0.75rem;
        }
        .chat-quick-btn {
            background: rgba(27,58,92,0.06);
            border: 1px solid var(--border);
            border-radius: 20px; padding: 0.4rem 0.85rem;
            font-size: 0.78rem; color: var(--primary);
            cursor: pointer; transition: all 0.2s;
            font-family: inherit; font-weight: 500;
        }
        .chat-quick-btn:hover {
            background: var(--primary); color: var(--white); border-color: var(--primary);
        }

        .chatbot-input {
            display: flex; gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-top: 1px solid var(--border);
            background: var(--white);
        }
        .chatbot-input input {
            flex: 1; border: 1px solid var(--border);
            border-radius: 24px; padding: 0.6rem 1rem;
            font-family: inherit; font-size: 0.85rem;
            outline: none; transition: border-color 0.2s;
        }
        .chatbot-input input:focus { border-color: var(--primary); }
        .chatbot-input button {
            width: 38px; height: 38px; border-radius: 50%;
            background: var(--primary); border: none;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: background 0.2s; flex-shrink: 0;
        }
        .chatbot-input button:hover { background: var(--primary-light); }
        .chatbot-input button svg { width: 18px; height: 18px; fill: white; }

        .chat-typing {
            display: flex; gap: 4px; padding: 0.7rem 1rem;
            align-items: center;
        }
        .chat-typing span {
            width: 6px; height: 6px; border-radius: 50%;
            background: var(--text-light); opacity: 0.5;
            animation: typingBounce 1.4s infinite;
        }
        .chat-typing span:nth-child(2) { animation-delay: 0.2s; }
        .chat-typing span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typingBounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-6px); }
        }

        /* Booking form inside chat */
        .chat-booking-form { padding: 0.5rem 0; }
        .chat-booking-form label {
            display: block; font-size: 0.75rem; font-weight: 600;
            color: var(--text-light); margin-bottom: 0.2rem; margin-top: 0.5rem;
        }
        .chat-booking-form input, .chat-booking-form select {
            width: 100%; padding: 0.5rem 0.7rem;
            border: 1px solid var(--border); border-radius: 8px;
            font-family: inherit; font-size: 0.82rem;
            outline: none;
        }
        .chat-booking-form input:focus, .chat-booking-form select:focus {
            border-color: var(--primary);
        }
        .chat-booking-submit {
            margin-top: 0.75rem; width: 100%;
            padding: 0.6rem; background: var(--accent);
            color: var(--dark); border: none; border-radius: 8px;
            font-weight: 700; font-size: 0.82rem; cursor: pointer;
            font-family: inherit; transition: background 0.2s;
        }
        .chat-booking-submit:hover { background: var(--accent-light); }

        @media (max-width: 480px) {
            .chatbot-window {
                right: 8px; left: 8px; bottom: 88px;
                width: auto; max-height: 70vh;
            }
        }
    </style>
</head>
<body>

    <!-- NAV -->
    <nav id="nav">
        <div class="nav-inner">
            <a href="#" class="nav-logo">
                <svg class="logo-svg" width="150" height="40" viewBox="0 0 150 40" xmlns="http://www.w3.org/2000/svg">
                    <rect x="0" y="4" width="32" height="32" rx="8" fill="#1B3A5C"/>
                    <path d="M8 14h16M8 20h12M8 26h8" stroke="#D4A853" stroke-width="2.5" stroke-linecap="round"/>
                    <text x="40" y="28" font-family="'Playfair Display', Georgia, serif" font-size="22" font-weight="700" fill="currentColor">√©clat</text>
                    <circle cx="100" cy="22" r="2.5" fill="#D4A853"/>
                </svg>
            </a>
            <div class="nav-links" id="navLinks">
                <a href="#services">Services</a>
                <a href="#tax-info">Tax Info</a>
                <a href="#about">About</a>
                <a href="#reviews">Reviews</a>
                <a href="#contact">Contact</a>
                <a href="#tax-info" class="nav-cta">Free Tax Consultation</a>
            </div>
            <button class="mobile-toggle" id="mobileToggle" aria-label="Menu">
                <span></span><span></span><span></span>
            </button>
        </div>
    </nav>

    <!-- HERO -->
    <section class="hero">
        <div class="hero-shapes">
            <div class="hero-shape"></div>
            <div class="hero-shape"></div>
            <div class="hero-shape"></div>
        </div>
        <div class="hero-inner">
            <div class="hero-content">
                <div class="hero-badge">TRUSTED SINCE 2016</div>
                <h1>Smart Accounting for <em>Ambitious</em> Businesses</h1>
                <p>Expert tax planning, accounting, and business advisory services tailored to help your business thrive. Based in London, trusted across the UK.</p>
                <div class="hero-buttons">
                    <a href="#tax-info" class="btn btn-primary">
                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"/></svg>
                        Get Free Tax Advice
                    </a>
                    <a href="tel:02082917713" class="btn btn-outline">
                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                        Call Us
                    </a>
                </div>
                <div class="hero-stats">
                    <div class="hero-stat">
                        <h3>9+</h3>
                        <p>Years Experience</p>
                    </div>
                    <div class="hero-stat">
                        <h3>500+</h3>
                        <p>Clients Served</p>
                    </div>
                    <div class="hero-stat">
                        <h3>5.0</h3>
                        <p>Trustpilot Rating</p>
                    </div>
                </div>
            </div>
            <div class="hero-visual">
                <div class="hero-image">
                    <img src="https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?w=600&h=700&fit=crop&crop=center" alt="Professional accountant reviewing financial documents">
                </div>
            </div>
        </div>
    </section>

    <!-- SERVICES -->
    <section class="services" id="services">
        <div class="section-inner">
            <div class="section-header fade-up">
                <p class="section-label">What We Do</p>
                <h2>Comprehensive Accounting Services</h2>
                <p>From bookkeeping to business strategy, we handle the numbers so you can focus on growing your business.</p>
            </div>
            <div class="services-grid">
                <div class="service-card fade-up">
                    <div class="service-icon">üìä</div>
                    <h3>Tax Planning & Returns</h3>
                    <p>Strategic tax planning to minimise your liability. Self-assessment, corporation tax, and capital gains ‚Äî all handled with precision.</p>
                </div>
                <div class="service-card fade-up">
                    <div class="service-icon">üìí</div>
                    <h3>Bookkeeping</h3>
                    <p>Accurate, up-to-date bookkeeping so you always know where your business stands financially. Xero and QuickBooks certified.</p>
                </div>
                <div class="service-card fade-up">
                    <div class="service-icon">üíº</div>
                    <h3>Business Advisory</h3>
                    <p>Data-driven insights and strategic guidance to help you make smarter decisions and grow with confidence.</p>
                </div>
                <div class="service-card fade-up">
                    <div class="service-icon">üè¢</div>
                    <h3>Company Formation</h3>
                    <p>Setting up a limited company? We handle registration, compliance, and get you started on the right footing.</p>
                </div>
                <div class="service-card fade-up">
                    <div class="service-icon">üìà</div>
                    <h3>VAT Returns</h3>
                    <p>Making Tax Digital compliant VAT filing. We ensure accuracy and timely submission every quarter.</p>
                </div>
                <div class="service-card fade-up">
                    <div class="service-icon">üè†</div>
                    <h3>Estate Planning</h3>
                    <p>Protect your assets and plan for the future with inheritance tax planning and estate management advice.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- TAX CTA -->
    <section class="tax-cta" id="tax-info">
        <div class="section-inner">
            <div class="tax-cta-content fade-up">
                <div class="tax-cta-image">
                    <img src="https://images.unsplash.com/photo-1450101499163-c8848c66ca85?w=600&h=300&fit=crop&crop=center" alt="Tax consultation meeting with professional advisor">
                </div>
                <p class="section-label" style="color: var(--accent);">Free Tax Consultation</p>
                <h2>Are You Paying More Tax Than You Need To?</h2>
                <p>Most small businesses overpay on tax simply because they don't have the right advice. Our experts can review your situation and find legitimate savings you're missing.</p>
                <ul class="tax-checklist">
                    <li>Personal & business tax return preparation</li>
                    <li>Tax-efficient salary & dividend strategies</li>
                    <li>R&D tax credit claims for eligible businesses</li>
                    <li>Capital allowances & expense optimisation</li>
                    <li>HMRC investigation support & representation</li>
                    <li>IR35 compliance review for contractors</li>
                </ul>
            </div>
            <div class="tax-form fade-up">
                <h3>Request Free Tax Review</h3>
                <p class="form-sub">Fill in the form and we'll get back to you within 24 hours.</p>
                <form id="taxForm" onsubmit="handleTaxForm(event)">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" placeholder="Your full name" required>
                    </div>
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" placeholder="you@example.com" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" placeholder="07xxx xxx xxx">
                    </div>
                    <div class="form-group">
                        <label>I Need Help With</label>
                        <select required>
                            <option value="">Select a service...</option>
                            <option>Self Assessment Tax Return</option>
                            <option>Corporation Tax</option>
                            <option>VAT Returns & MTD</option>
                            <option>Bookkeeping</option>
                            <option>Company Formation</option>
                            <option>Business Advisory</option>
                            <option>Estate Planning</option>
                            <option>HMRC Investigation</option>
                            <option>Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tell Us More (Optional)</label>
                        <textarea rows="3" placeholder="Any details about your situation..."></textarea>
                    </div>
                    <button type="submit" class="form-submit">Request Free Consultation ‚Üí</button>
                </form>
            </div>
        </div>
    </section>

    <!-- WHY ECLAT -->
    <section class="why" id="about">
        <div class="section-inner">
            <div class="section-header fade-up">
                <p class="section-label">Why √âclat</p>
                <h2>Accounting That Actually Makes Sense</h2>
                <p>We speak human, not jargon. Our approach is personal, proactive, and built around your goals.</p>
            </div>
            <div class="why-grid">
                <div class="why-image fade-up">
                    <div class="why-number">9+</div>
                    <p class="why-quote">"Efficient, flexible and approachable ‚Äî excellent value."</p>
                    <p class="why-author">‚Äî Peter Cottrell, Trustpilot Review</p>
                </div>
                <div class="why-features fade-up">
                    <div class="why-feature">
                        <div class="why-feature-icon">üéØ</div>
                        <div>
                            <h4>Proactive, Not Reactive</h4>
                            <p>We don't just file your returns ‚Äî we actively find savings and flag issues before they cost you money.</p>
                        </div>
                    </div>
                    <div class="why-feature">
                        <div class="why-feature-icon">üí¨</div>
                        <div>
                            <h4>Always Available</h4>
                            <p>Quick to respond, always available to help. No waiting weeks for an answer to a simple question.</p>
                        </div>
                    </div>
                    <div class="why-feature">
                        <div class="why-feature-icon">üîç</div>
                        <div>
                            <h4>Detail-Oriented</h4>
                            <p>Deep knowledge and attention to detail means we optimise every aspect of your tax position.</p>
                        </div>
                    </div>
                    <div class="why-feature">
                        <div class="why-feature-icon">ü§ù</div>
                        <div>
                            <h4>Personal Service</h4>
                            <p>You're never just a number. We take time to understand your business and tailor our advice accordingly.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- REVIEWS -->
    <section class="reviews" id="reviews">
        <div class="section-inner">
            <div class="section-header fade-up">
                <p class="section-label">Client Reviews</p>
                <h2>What Our Clients Say</h2>
                <p>Don't just take our word for it ‚Äî here's what real clients think.</p>
            </div>
            <div class="reviews-grid">
                <div class="review-card fade-up">
                    <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p class="review-text">"They are professionals, friendly, and the best I have used to date for accounting management."</p>
                    <div class="review-author">
                        <div class="review-avatar">LF</div>
                        <div>
                            <div class="review-name">Leandro Fernandes</div>
                            <div class="review-source">Trustpilot ‚Ä¢ Nov 2023</div>
                        </div>
                    </div>
                </div>
                <div class="review-card fade-up">
                    <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p class="review-text">"Efficient, flexible and approachable. They provide excellent value and I highly recommend them."</p>
                    <div class="review-author">
                        <div class="review-avatar">PC</div>
                        <div>
                            <div class="review-name">Peter Cottrell</div>
                            <div class="review-source">Trustpilot ‚Ä¢ Aug 2023</div>
                        </div>
                    </div>
                </div>
                <div class="review-card fade-up">
                    <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p class="review-text">"Deep knowledge and attention to detail ‚Äî they optimised our tax position perfectly. Accounts are always completed on time."</p>
                    <div class="review-author">
                        <div class="review-avatar">EO</div>
                        <div>
                            <div class="review-name">Ebenezer Osinowo</div>
                            <div class="review-source">Trustpilot ‚Ä¢ Aug 2023</div>
                        </div>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 2rem;" class="fade-up">
                <div class="tp-badge">
                    <span class="tp-stars">‚òÖ 5.0</span>
                    <span>Rated Excellent on Trustpilot ‚Ä¢ 6 Reviews</span>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTACT -->
    <section class="contact" id="contact">
        <div class="section-inner">
            <div class="section-header fade-up">
                <p class="section-label">Get In Touch</p>
                <h2>Let's Talk About Your Finances</h2>
                <p>Ready to take control of your tax? Reach out for a free, no-obligation consultation.</p>
            </div>
            <div class="contact-grid">
                <div class="contact-info fade-up">
                    <h3>√âclat Accountancy Ltd</h3>
                    <p>Professional, friendly accounting services for businesses and individuals across London and the UK.</p>

                    <div class="contact-item">
                        <div class="contact-icon">üìç</div>
                        <div>
                            <h4>Office Address</h4>
                            <p>71 Dartmouth Road, London, SE23 3HT</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">üìû</div>
                        <div>
                            <h4>Phone</h4>
                            <a href="tel:02082917713">020 8291 7713</a>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">üåê</div>
                        <div>
                            <h4>Website</h4>
                            <a href="https://www.eclataccountancy.co.uk" target="_blank">eclataccountancy.co.uk</a>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">üïê</div>
                        <div>
                            <h4>Office Hours</h4>
                            <p>Mon ‚Äì Fri: 9:00 AM ‚Äì 6:00 PM</p>
                        </div>
                    </div>
                </div>
                <div class="contact-map fade-up">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2487.8!2d-0.055!3d51.4366!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4876035a2c3a2a71%3A0x8a8a8a8a8a8a8a8a!2s71+Dartmouth+Rd%2C+London+SE23+3HT!5e0!3m2!1sen!2suk!4v1" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="footer-inner">
            <div class="footer-top">
                <div class="footer-brand">
                    <a href="#" class="nav-logo">
                        <svg class="logo-svg" width="150" height="40" viewBox="0 0 150 40" xmlns="http://www.w3.org/2000/svg">
                            <rect x="0" y="4" width="32" height="32" rx="8" fill="#D4A853"/>
                            <path d="M8 14h16M8 20h12M8 26h8" stroke="#FFFFFF" stroke-width="2.5" stroke-linecap="round"/>
                            <text x="40" y="28" font-family="'Playfair Display', Georgia, serif" font-size="22" font-weight="700" fill="#FFFFFF">√©clat</text>
                            <circle cx="100" cy="22" r="2.5" fill="#D4A853"/>
                        </svg>
                    </a>
                    <p>Smart accounting for ambitious businesses. Trusted since 2016.</p>
                </div>
                <div class="footer-links">
                    <h4>Services</h4>
                    <a href="#services">Tax Planning</a>
                    <a href="#services">Bookkeeping</a>
                    <a href="#services">Business Advisory</a>
                    <a href="#services">VAT Returns</a>
                </div>
                <div class="footer-links">
                    <h4>Company</h4>
                    <a href="#about">About Us</a>
                    <a href="#reviews">Reviews</a>
                    <a href="#contact">Contact</a>
                    <a href="#tax-info">Free Consultation</a>
                </div>
                <div class="footer-links">
                    <h4>Contact</h4>
                    <a href="tel:02082917713">020 8291 7713</a>
                    <a href="#contact">71 Dartmouth Rd, SE23 3HT</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 √âclat Accountancy Ltd. Company No. 10290985. All rights reserved.</p>
                <p>Registered in England & Wales</p>
            </div>
        </div>
    </footer>

    <!-- CHATBOT -->
    <button class="chatbot-toggle" id="chatToggle" aria-label="Open chat">
        <span class="chatbot-badge"></span>
        <svg class="chat-icon" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17L4 17.17V4h16v12z"/><path d="M7 9h10v2H7zm0-3h10v2H7z"/></svg>
        <svg class="close-icon" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
    </button>

    <div class="chatbot-window" id="chatWindow">
        <div class="chatbot-header">
            <div class="chatbot-header-avatar">
                <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            </div>
            <div class="chatbot-header-info">
                <h4>√âclat Assistant</h4>
                <p>Tax &amp; Accounting Help</p>
            </div>
        </div>
        <div class="chatbot-messages" id="chatMessages"></div>
        <div class="chat-quick-actions" id="chatQuickActions">
            <button class="chat-quick-btn" data-msg="What services do you offer?">Services</button>
            <button class="chat-quick-btn" data-msg="Tell me about UK tax deadlines">Tax Deadlines</button>
            <button class="chat-quick-btn" data-msg="I need help with self assessment">Self Assessment</button>
            <button class="chat-quick-btn" data-msg="I'd like to book an appointment">Book Appointment</button>
        </div>
        <div class="chatbot-input">
            <input type="text" id="chatInput" placeholder="Ask about tax, services, or book..." autocomplete="off">
            <button id="chatSend" aria-label="Send">
                <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
            </button>
        </div>
    </div>

    <script>
        // Nav scroll effect
        window.addEventListener('scroll', () => {
            document.getElementById('nav').classList.toggle('scrolled', window.scrollY > 20);
        });

        // Mobile menu
        document.getElementById('mobileToggle').addEventListener('click', () => {
            document.getElementById('navLinks').classList.toggle('open');
        });

        // Close mobile menu on link click
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                document.getElementById('navLinks').classList.remove('open');
            });
        });

        // Scroll animations
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

        document.querySelectorAll('.fade-up').forEach(el => observer.observe(el));

        // Tax form handler
        function handleTaxForm(e) {
            e.preventDefault();
            const btn = e.target.querySelector('.form-submit');
            btn.textContent = 'Request Sent ‚úì';
            btn.style.background = '#38A169';
            btn.disabled = true;
            setTimeout(() => {
                btn.textContent = 'Request Free Consultation ‚Üí';
                btn.style.background = '';
                btn.disabled = false;
                e.target.reset();
            }, 3000);
        }

        // ============ CHATBOT ============
        (function() {
            const toggle = document.getElementById('chatToggle');
            const win = document.getElementById('chatWindow');
            const msgs = document.getElementById('chatMessages');
            const input = document.getElementById('chatInput');
            const sendBtn = document.getElementById('chatSend');
            const quickActions = document.getElementById('chatQuickActions');
            let bookingState = null;

            // Company knowledge base
            const companyInfo = {
                services: `We offer a full range of accounting services:\n‚Ä¢ **Tax Planning & Returns** ‚Äî Self-assessment, corporation tax, capital gains\n‚Ä¢ **Bookkeeping** ‚Äî Xero & QuickBooks certified\n‚Ä¢ **Business Advisory** ‚Äî Strategic guidance & growth planning\n‚Ä¢ **Company Formation** ‚Äî Registration & compliance\n‚Ä¢ **VAT Returns** ‚Äî MTD compliant quarterly filing\n‚Ä¢ **Estate Planning** ‚Äî Inheritance tax & asset protection\n\nWould you like details on any specific service?`,

                about: `√âclat Accountancy Ltd has been helping businesses since **2016**. We're based at **71 Dartmouth Road, London SE23 3HT**.\n\nWe're rated **5.0 on Trustpilot** with clients praising our proactive, personal approach. Our team is known for being efficient, flexible, and always available.`,

                contact: `You can reach us at:\nüìû **020 8291 7713**\nüìç 71 Dartmouth Road, London SE23 3HT\nüïê Mon‚ÄìFri 9:00 AM ‚Äì 6:00 PM\nüåê eclataccountancy.co.uk`,

                pricing: `Our pricing depends on the complexity of your needs. We offer **free initial consultations** to understand your requirements and provide a tailored quote.\n\nWould you like to book a free consultation?`,
            };

            // UK Tax knowledge
            const taxInfo = {
                selfAssessment: `**UK Self Assessment Key Info:**\n‚Ä¢ **Registration deadline**: 5 Oct after the tax year ends\n‚Ä¢ **Paper return deadline**: 31 Oct\n‚Ä¢ **Online return deadline**: 31 Jan following the tax year\n‚Ä¢ **Payment deadline**: 31 Jan (balancing payment + 1st payment on account)\n‚Ä¢ **2nd payment on account**: 31 Jul\n\n**Who needs to file?** Self-employed, company directors, landlords earning over ¬£2,500, income over ¬£150k, or if you receive untaxed income.\n\nLate filing penalty: **¬£100 immediately**, then ¬£10/day after 3 months. We can handle your return ‚Äî would you like to book a consultation?`,

                corporationTax: `**UK Corporation Tax (2025/26):**\n‚Ä¢ **Small profits rate**: 19% (profits up to ¬£50,000)\n‚Ä¢ **Main rate**: 25% (profits over ¬£250,000)\n‚Ä¢ **Marginal relief**: For profits between ¬£50k‚Äì¬£250k\n‚Ä¢ **Filing deadline**: 12 months after accounting period ends\n‚Ä¢ **Payment deadline**: 9 months + 1 day after accounting period ends\n\nWe can help optimise your corporation tax position through legitimate tax planning strategies.`,

                vat: `**UK VAT Key Info:**\n‚Ä¢ **Registration threshold**: ¬£90,000 (from April 2024)\n‚Ä¢ **Standard rate**: 20%\n‚Ä¢ **Reduced rate**: 5% (some goods/services)\n‚Ä¢ **Zero rate**: 0% (food, children's clothes, etc.)\n‚Ä¢ **Flat Rate Scheme**: Available for businesses under ¬£150k turnover\n‚Ä¢ **MTD for VAT**: Digital records & software required\n\nQuarterly filing is mandatory. We handle MTD-compliant VAT returns.`,

                deadlines: `**Key UK Tax Deadlines 2025/26:**\n‚Ä¢ **5 Apr 2026** ‚Äî Tax year ends\n‚Ä¢ **31 Jul 2026** ‚Äî 2nd payment on account (self-assessment)\n‚Ä¢ **5 Oct 2026** ‚Äî Register for self-assessment\n‚Ä¢ **31 Oct 2026** ‚Äî Paper tax return deadline\n‚Ä¢ **31 Jan 2027** ‚Äî Online tax return + payment deadline\n‚Ä¢ **Corporation Tax**: 9 months + 1 day after year end\n‚Ä¢ **VAT**: Quarterly, 1 month + 7 days after quarter end\n\nNeed help meeting a deadline? We can fast-track your return.`,

                paye: `**UK PAYE & Employment Tax:**\n‚Ä¢ **Personal allowance**: ¬£12,570\n‚Ä¢ **Basic rate (20%)**: ¬£12,571 ‚Äì ¬£50,270\n‚Ä¢ **Higher rate (40%)**: ¬£50,271 ‚Äì ¬£125,140\n‚Ä¢ **Additional rate (45%)**: Over ¬£125,140\n‚Ä¢ **NI Class 1**: 8% employee / 13.8% employer\n\nWe can advise on tax-efficient salary & dividend strategies for directors.`,

                capitalGains: `**UK Capital Gains Tax (CGT):**\n‚Ä¢ **Annual exempt amount**: ¬£3,000 (2025/26)\n‚Ä¢ **Basic rate taxpayers**: 10% (18% for property)\n‚Ä¢ **Higher rate taxpayers**: 20% (24% for property)\n‚Ä¢ **Business Asset Disposal Relief**: 10% rate on qualifying disposals up to ¬£1m lifetime limit\n\nProper planning can significantly reduce your CGT liability.`,

                ir35: `**IR35 / Off-Payroll Working Rules:**\n‚Ä¢ Applies to contractors working through personal service companies\n‚Ä¢ **Client determines status** for medium/large businesses\n‚Ä¢ Inside IR35 = taxed as employee (PAYE deductions)\n‚Ä¢ Outside IR35 = taxed as self-employed via PSC\n‚Ä¢ Key factors: control, substitution, mutuality of obligation\n\nWe offer **IR35 compliance reviews** to protect you from costly mistakes.`,

                dividends: `**UK Dividend Tax (2025/26):**\n‚Ä¢ **Dividend allowance**: ¬£500\n‚Ä¢ **Basic rate**: 8.75%\n‚Ä¢ **Higher rate**: 33.75%\n‚Ä¢ **Additional rate**: 39.35%\n\nFor company directors, a combination of salary + dividends is usually the most tax-efficient approach. We can calculate your optimal mix.`,

                inheritance: `**UK Inheritance Tax (IHT):**\n‚Ä¢ **Nil-rate band**: ¬£325,000\n‚Ä¢ **Residence nil-rate band**: ¬£175,000 (for main home to direct descendants)\n‚Ä¢ **IHT rate**: 40% above threshold\n‚Ä¢ **Reduced rate**: 36% if 10%+ of estate left to charity\n‚Ä¢ **Spouse/civil partner exemption**: Transfers between spouses are exempt\n\nEstate planning can significantly reduce your IHT liability.`,
            };

            // Intent matching
            function getResponse(msg) {
                const lower = msg.toLowerCase().trim();

                // Booking intent
                if (/book|appointment|schedule|meeting|calendar|consultation|speak to|talk to/.test(lower)) {
                    startBooking();
                    return null;
                }

                // Services
                if (/services?|what do you (do|offer)|help with/.test(lower)) return companyInfo.services;

                // About
                if (/about|who are|company|eclat|history|team|how long/.test(lower)) return companyInfo.about;

                // Contact
                if (/contact|phone|address|location|email|reach|where are/.test(lower)) return companyInfo.contact;

                // Pricing
                if (/pric|cost|fee|how much|charge|quote/.test(lower)) return companyInfo.pricing;

                // Tax topics
                if (/self.?assess|sa return|personal tax return/.test(lower)) return taxInfo.selfAssessment;
                if (/corporation tax|company tax|corp tax|ct600/.test(lower)) return taxInfo.corporationTax;
                if (/\bvat\b|value added|mtd|making tax digital/.test(lower)) return taxInfo.vat;
                if (/deadline|due date|when.*file|when.*pay|important date/.test(lower)) return taxInfo.deadlines;
                if (/paye|payroll|employment tax|salary tax|income tax rate|tax band/.test(lower)) return taxInfo.paye;
                if (/capital gain|cgt|sell.*property|sell.*shares/.test(lower)) return taxInfo.capitalGains;
                if (/ir35|off.?payroll|contractor|psc|personal service/.test(lower)) return taxInfo.ir35;
                if (/dividend|salary.*dividend|director.*pay/.test(lower)) return taxInfo.dividends;
                if (/inherit|iht|estate|death|will|probate/.test(lower)) return taxInfo.inheritance;

                // Tax general
                if (/tax/.test(lower)) return `I can help with many UK tax topics:\n‚Ä¢ Self Assessment\n‚Ä¢ Corporation Tax\n‚Ä¢ VAT & MTD\n‚Ä¢ PAYE & Income Tax\n‚Ä¢ Capital Gains Tax\n‚Ä¢ Dividends\n‚Ä¢ IR35\n‚Ä¢ Inheritance Tax\n\nWhich area would you like to know about? Or I can **book you a free consultation** with one of our experts.`;

                // Greetings
                if (/^(hi|hello|hey|good\s*(morning|afternoon|evening)|howdy)/i.test(lower)) {
                    return `Hello! I'm the √âclat Assistant. I can help you with:\n‚Ä¢ Information about our **accounting services**\n‚Ä¢ **UK tax** questions & guidance\n‚Ä¢ **Booking an appointment** with our experts\n\nHow can I help you today?`;
                }

                // Thanks
                if (/^(thanks?|thank you|cheers|ta|brilliant|great|perfect)/i.test(lower)) {
                    return `You're welcome! Is there anything else I can help with? Feel free to ask about our services, UK tax, or book an appointment.`;
                }

                // Fallback
                return `I can help with:\n‚Ä¢ **Our services** ‚Äî Tax, bookkeeping, advisory & more\n‚Ä¢ **UK tax questions** ‚Äî Deadlines, rates, rules & guidance\n‚Ä¢ **Book an appointment** ‚Äî Connect with our experts\n\nTry asking something like "What are the self assessment deadlines?" or "I'd like to book a consultation".`;
            }

            function startBooking() {
                bookingState = { step: 0 };
                addBotMessage(`Great! I'll help you book an appointment with one of our experts.\n\nPlease fill in the details below:`);

                const formHTML = `
                    <div class="chat-booking-form" id="bookingForm">
                        <label>Your Name</label>
                        <input type="text" id="bookName" placeholder="Full name" required>
                        <label>Email</label>
                        <input type="email" id="bookEmail" placeholder="you@example.com" required>
                        <label>Phone</label>
                        <input type="tel" id="bookPhone" placeholder="07xxx xxx xxx">
                        <label>What do you need help with?</label>
                        <select id="bookService">
                            <option value="Self Assessment">Self Assessment</option>
                            <option value="Corporation Tax">Corporation Tax</option>
                            <option value="VAT Returns">VAT Returns</option>
                            <option value="Bookkeeping">Bookkeeping</option>
                            <option value="Company Formation">Company Formation</option>
                            <option value="Business Advisory">Business Advisory</option>
                            <option value="Estate Planning">Estate Planning</option>
                            <option value="IR35 Review">IR35 Review</option>
                            <option value="General Consultation">General Consultation</option>
                        </select>
                        <label>Preferred Date</label>
                        <input type="date" id="bookDate" min="${new Date().toISOString().split('T')[0]}">
                        <label>Preferred Time</label>
                        <select id="bookTime">
                            <option value="9:00 AM">9:00 AM</option>
                            <option value="10:00 AM">10:00 AM</option>
                            <option value="11:00 AM">11:00 AM</option>
                            <option value="12:00 PM">12:00 PM</option>
                            <option value="1:00 PM">1:00 PM</option>
                            <option value="2:00 PM">2:00 PM</option>
                            <option value="3:00 PM">3:00 PM</option>
                            <option value="4:00 PM">4:00 PM</option>
                            <option value="5:00 PM">5:00 PM</option>
                        </select>
                        <label>Calendar Integration</label>
                        <select id="bookCalendar">
                            <option value="email">Email Confirmation</option>
                            <option value="google">Google Calendar</option>
                            <option value="outlook">Outlook Calendar</option>
                            <option value="apple">Apple Calendar</option>
                            <option value="ghl">GoHighLevel (GHL)</option>
                        </select>
                        <button class="chat-booking-submit" onclick="submitBooking()">Confirm Booking Request</button>
                    </div>`;

                const msgDiv = document.createElement('div');
                msgDiv.className = 'chat-msg bot';
                msgDiv.innerHTML = `<div class="chat-msg-avatar">√â</div><div class="chat-bubble">${formHTML}</div>`;
                msgs.appendChild(msgDiv);
                scrollChat();
            }

            window.submitBooking = function() {
                const name = document.getElementById('bookName').value.trim();
                const email = document.getElementById('bookEmail').value.trim();
                const phone = document.getElementById('bookPhone').value.trim();
                const service = document.getElementById('bookService').value;
                const date = document.getElementById('bookDate').value;
                const time = document.getElementById('bookTime').value;
                const calendar = document.getElementById('bookCalendar').value;

                if (!name || !email) {
                    addBotMessage('Please fill in at least your **name** and **email** to proceed.');
                    return;
                }
                if (!date) {
                    addBotMessage('Please select a **preferred date** for your appointment.');
                    return;
                }

                // Remove the form
                const form = document.getElementById('bookingForm');
                if (form) form.closest('.chat-msg').remove();

                const calendarLabels = { email: 'Email', google: 'Google Calendar', outlook: 'Outlook', apple: 'Apple Calendar', ghl: 'GoHighLevel' };
                const formattedDate = new Date(date).toLocaleDateString('en-GB', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' });

                addUserMessage(`Book: ${service} on ${formattedDate} at ${time}`);

                setTimeout(() => {
                    addBotMessage(`Your appointment request has been submitted!\n\n**Booking Summary:**\nüë§ ${name}\nüìß ${email}\n${phone ? 'üìû ' + phone + '\n' : ''}üìã ${service}\nüìÖ ${formattedDate} at ${time}\nüîó Calendar: ${calendarLabels[calendar]}\n\nOur team will confirm your appointment within **24 hours** via ${calendar === 'email' ? 'email' : calendarLabels[calendar] + ' invite'}.\n\nIs there anything else I can help with?`);

                    bookingState = null;

                    // In production, this would POST to your backend/GHL API
                    console.log('Booking request:', { name, email, phone, service, date, time, calendar });
                }, 800);
            };

            function addBotMessage(text) {
                const div = document.createElement('div');
                div.className = 'chat-msg bot';
                div.innerHTML = `<div class="chat-msg-avatar">√â</div><div class="chat-bubble">${formatMsg(text)}</div>`;
                msgs.appendChild(div);
                scrollChat();
            }

            function addUserMessage(text) {
                const div = document.createElement('div');
                div.className = 'chat-msg user';
                div.innerHTML = `<div class="chat-msg-avatar">You</div><div class="chat-bubble">${escapeHtml(text)}</div>`;
                msgs.appendChild(div);
                scrollChat();
            }

            function addTyping() {
                const div = document.createElement('div');
                div.className = 'chat-msg bot';
                div.id = 'typingIndicator';
                div.innerHTML = `<div class="chat-msg-avatar">√â</div><div class="chat-bubble"><div class="chat-typing"><span></span><span></span><span></span></div></div>`;
                msgs.appendChild(div);
                scrollChat();
            }

            function removeTyping() {
                const el = document.getElementById('typingIndicator');
                if (el) el.remove();
            }

            function scrollChat() {
                setTimeout(() => { msgs.scrollTop = msgs.scrollHeight; }, 50);
            }

            function formatMsg(text) {
                return escapeHtml(text)
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/\n/g, '<br>');
            }

            function escapeHtml(str) {
                const div = document.createElement('div');
                div.textContent = str;
                return div.innerHTML;
            }

            function handleSend() {
                const text = input.value.trim();
                if (!text) return;
                input.value = '';
                addUserMessage(text);

                // Hide quick actions after first message
                quickActions.style.display = 'none';

                addTyping();
                const delay = 400 + Math.random() * 600;
                setTimeout(() => {
                    removeTyping();
                    const response = getResponse(text);
                    if (response) addBotMessage(response);
                }, delay);
            }

            // Toggle
            toggle.addEventListener('click', () => {
                const opening = !win.classList.contains('open');
                win.classList.toggle('open');
                toggle.classList.toggle('active');
                if (opening && msgs.children.length === 0) {
                    addBotMessage("Hello! I'm the √âclat Assistant. I can help with:\n\n‚Ä¢ Our **accounting & tax services**\n‚Ä¢ **UK tax** questions & guidance\n‚Ä¢ **Booking an appointment** with our experts\n\nHow can I help you today?");
                }
                if (opening) input.focus();
            });

            // Send
            sendBtn.addEventListener('click', handleSend);
            input.addEventListener('keydown', e => { if (e.key === 'Enter') handleSend(); });

            // Quick actions
            quickActions.querySelectorAll('.chat-quick-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    input.value = btn.dataset.msg;
                    handleSend();
                });
            });
        })();
    </script>
</body>
</html>
